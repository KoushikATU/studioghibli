(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,n){},4:function(e,t){e.exports={getUser:function(){var e=sessionStorage.getItem("user");return"undefined"!==e&&e?JSON.parse(e):null},getToken:function(){return sessionStorage.getItem("token")},setUserSession:function(e,t){sessionStorage.setItem("user",JSON.stringify(e)),sessionStorage.setItem("token",t)},resetUserSession:function(){sessionStorage.removeItem("user"),sessionStorage.removeItem("token")}}},62:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(28),a=n.n(r),o=(n(34),n(5)),i=n(10),j=n(2),u=n(0),b=function(){return Object(u.jsx)("div",{children:"This is the home page!"})},l=n(12),d=n.n(l),O=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(o.a)(r,2),i=a[0],j=a[1],b=Object(s.useState)(""),l=Object(o.a)(b,2),O=l[0],x=l[1],h=Object(s.useState)(""),m=Object(o.a)(h,2),p=m[0],v=m[1],f=Object(s.useState)(null),g=Object(o.a)(f,2),S=g[0],y=g[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==O.trim()&&""!==i.trim()&&""!==n.trim()&&""!==p.trim()){y(null);var t={username:O,email:i,name:n,password:p};d.a.post("https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/register",t,{headers:{"x-api-key":"mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx"}}).then((function(e){y("Registeration Successful")})).catch((function(e){401===e.response.status?y(e.response.data.message):y("sorry....the backend server is down!! please try again later")}))}else y("All fields are required")},children:[Object(u.jsx)("h5",{children:"Register"}),"Name: ",Object(u.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)}})," ",Object(u.jsx)("br",{}),"Email: ",Object(u.jsx)("input",{type:"text",value:i,onChange:function(e){return j(e.target.value)}})," ",Object(u.jsx)("br",{}),"Username: ",Object(u.jsx)("input",{type:"text",value:O,onChange:function(e){return x(e.target.value)}})," ",Object(u.jsx)("br",{}),"Password: ",Object(u.jsx)("input",{type:"text",value:p,onChange:function(e){return v(e.target.value)}})," ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Register"})]}),S&&Object(u.jsx)("p",{className:"message",children:S})]})},x=n(4),h=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(""),i=Object(o.a)(a,2),j=i[0],b=i[1],l=Object(s.useState)(null),O=Object(o.a)(l,2),h=O[0],m=O[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""!==c.trim()&&""!==j.trim()){m(null);var n={username:c,password:j};d.a.post("https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/login",n,{headers:{"x-api-key":"mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx"}}).then((function(t){Object(x.setUserSession)(t.data.user,t.data.token),"darshan"===t.data.user?e.history.push("/Admin"):e.history.push("/course")})).catch((function(e){401===e.response.status||403===e.response.status?m(e.response.data.message):m("sorry....the backend server is down. please try again later!!po")}))}else m("Both username and password are required")},children:[Object(u.jsx)("h5",{children:"Login"}),"Username: ",Object(u.jsx)("input",{type:"text",value:c,onChange:function(e){return r(e.target.value)}})," ",Object(u.jsx)("br",{}),"Password: ",Object(u.jsx)("input",{type:"password",value:j,onChange:function(e){return b(e.target.value)}})," ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Login"})," ",Object(u.jsx)("br",{})]}),h&&Object(u.jsx)("p",{className:"message",children:h})]})};var m=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){d.a.get("https://jei9r6lp78.execute-api.us-east-1.amazonaws.com/prod/products").then((function(e){var t;console.log(e.data),c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)})).catch((function(e){console.log(e)}))}),[]),Object(u.jsxs)("div",{children:["Table of Data:",Object(u.jsxs)("table",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"name"}),Object(u.jsx)("th",{children:"Username"}),Object(u.jsx)("th",{children:"Email"}),Object(u.jsx)("th",{children:"Course"}),Object(u.jsx)("th",{children:"Extra Requests"}),Object(u.jsx)("th",{children:"Actions"})]}),n.length>0&&n.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.username}),Object(u.jsx)("td",{children:e.email}),Object(u.jsx)("td",{children:"none"}),Object(u.jsx)("td",{children:"none"}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{children:"Edit"}),Object(u.jsx)("button",{children:"Delete"})]})]})}))]})]})},p=function(e){var t=Object(x.getUser)(),n="undefined"!==t&&t?t.name:"";return Object(u.jsxs)("div",{children:["Hello ",n,"! You have been loggined in!!!! Welcome to the premium content. ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"button",value:"Logout",onClick:function(){Object(x.resetUserSession)(),e.history.push("login")}})]})},v=function(e){var t=Object(x.getUser)(),n="undefined"!==t&&t?t.name:"";return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{children:[Object(u.jsx)("h5",{children:"Course Selection"}),"Hello ",n,"! You have been loggined in!!!! Choose the course !!!",Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Select Course:"}),Object(u.jsx)("select",{id:"course",name:"course",children:Object(u.jsx)("option",{value:"Moving Castle Creations",children:"Moving Castle Creations"})})," ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"button",value:"Go to the course",onClick:p}),Object(u.jsx)("h5",{children:"Extra Requests for server admin:"}),Object(u.jsx)("textarea",{id:"requests",name:"requests"})," ",Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"submit",value:"Send"})}),Object(u.jsx)("input",{type:"button",value:"Logout",onClick:function(){Object(x.resetUserSession)(),e.history.push("login")}})]})})},f=n(13),g=n(15),S=["component"],y=function(e){var t=e.component,n=Object(g.a)(e,S);return Object(u.jsx)(j.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(x.getToken)()?Object(u.jsx)(j.a,{to:{pathname:"/course"}}):Object(u.jsx)(t,Object(f.a)({},e))}}))},C=["component"],k=function(e){var t=e.component,n=Object(g.a)(e,C);return Object(u.jsx)(j.b,Object(f.a)(Object(f.a)({},n),{},{render:function(e){return Object(x.getToken)()?Object(u.jsx)(t,Object(f.a)({},e)):Object(u.jsx)(j.a,{to:{pathname:"/login"}})}}))},w="https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/verify";var U=function(){var e=Object(s.useState)(!0),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){var e=Object(x.getToken)();if("undefined"!==e&&void 0!==e&&null!==e&&e){var t={user:Object(x.getUser)(),token:e};d.a.post(w,t,{headers:{"x-api-key":"mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx"}}).then((function(e){Object(x.setUserSession)(e.data.user,e.data.token),c(!1)})).catch((function(){Object(x.resetUserSession)(),c(!1)}))}}),[]);var r=Object(x.getToken)();return n&&r?Object(u.jsx)("div",{className:"content",children:"Authenicating..."}):Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.a,{children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(i.b,{exact:!0,activeClassName:"active",to:"/",children:"Home"}),Object(u.jsx)(i.b,{activeClassName:"active",to:"/register",children:"Register"}),Object(u.jsx)(i.b,{activeClassName:"active",to:"/login",children:"Login"}),Object(u.jsx)(i.b,{activeClassName:"active",to:"/course",children:"Course"}),Object(u.jsx)(i.b,{activeClassName:"active",to:"/premium-content",children:"Premium Content"}),Object(u.jsx)(i.b,{activeClassName:"active",to:"/Admin",children:"Admin"})]}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{exact:!0,path:"/",component:b}),Object(u.jsx)(y,{path:"/register",component:O}),Object(u.jsx)(y,{path:"/login",component:h}),Object(u.jsx)(k,{path:"/course",component:v}),Object(u.jsx)(k,{path:"/premium-content",component:p}),Object(u.jsx)(k,{path:"/Admin",component:m})]})})]})})};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.4c3f2477.chunk.js.map
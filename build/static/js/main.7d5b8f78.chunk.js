(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,n){},4:function(e,t){e.exports={getUser:function(){var e=sessionStorage.getItem("user");return"undefined"!==e&&e?JSON.parse(e):null},getToken:function(){return sessionStorage.getItem("token")},setUserSession:function(e,t){sessionStorage.setItem("user",JSON.stringify(e)),sessionStorage.setItem("token",t)},resetUserSession:function(){sessionStorage.removeItem("user"),sessionStorage.removeItem("token")}}},61:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(27),r=n.n(c),o=(n(33),n(8)),i=n(11),u=n(2),j=n(1),b=function(){return Object(j.jsx)("div",{children:"This is the home page!"})},O=n(13),l=n.n(O),p=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(o.a)(c,2),i=r[0],u=r[1],b=Object(s.useState)(""),O=Object(o.a)(b,2),p=O[0],m=O[1],x=Object(s.useState)(""),d=Object(o.a)(x,2),h=d[0],f=d[1],g=Object(s.useState)(null),v=Object(o.a)(g,2),S=v[0],y=v[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==p.trim()&&""!==i.trim()&&""!==n.trim()&&""!==h.trim()){y(null);var t={username:p,email:i,name:n,password:h};l.a.post("https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/register",t,{headers:{"x-api-key":"mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx"}}).then((function(e){y("Registeration Successful")})).catch((function(e){401===e.response.status?y(e.response.data.message):y("sorry....the backend server is down!! please try again later")}))}else y("All fields are required")},children:[Object(j.jsx)("h5",{children:"Register"}),"name: ",Object(j.jsx)("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)}})," ",Object(j.jsx)("br",{}),"email: ",Object(j.jsx)("input",{type:"text",value:i,onChange:function(e){return u(e.target.value)}})," ",Object(j.jsx)("br",{}),"username: ",Object(j.jsx)("input",{type:"text",value:p,onChange:function(e){return m(e.target.value)}})," ",Object(j.jsx)("br",{}),"password: ",Object(j.jsx)("input",{type:"text",value:h,onChange:function(e){return f(e.target.value)}})," ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"submit",value:"Register"})]}),S&&Object(j.jsx)("p",{className:"message",children:S})]})},m=n(4),x=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(""),i=Object(o.a)(r,2),u=i[0],b=i[1],O=Object(s.useState)(null),p=Object(o.a)(O,2),x=p[0],d=p[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""!==a.trim()&&""!==u.trim()){d(null);var n={username:a,password:u};l.a.post("https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/login",n,{headers:{"x-api-key":"mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx"}}).then((function(t){Object(m.setUserSession)(t.data.user,t.data.token),e.history.push("/premium-content")})).catch((function(e){401===e.response.status||403===e.response.status?d(e.response.data.message):d("sorry....the backend server is down. please try again later!!")}))}else d("Both username and password are required")},children:[Object(j.jsx)("h5",{children:"Login"}),"username: ",Object(j.jsx)("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)}})," ",Object(j.jsx)("br",{}),"password: ",Object(j.jsx)("input",{type:"password",value:u,onChange:function(e){return b(e.target.value)}})," ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"submit",value:"Login"})]}),x&&Object(j.jsx)("p",{className:"message",children:x})]})},d=function(e){var t=Object(m.getUser)(),n="undefined"!==t&&t?t.name:"";return Object(j.jsxs)("div",{children:["Hello ",n,"! You have been loggined in!!!! Welcome to the premium content. ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"button",value:"Logout",onClick:function(){Object(m.resetUserSession)(),e.history.push("login")}})]})},h=n(12),f=n(14),g=["component"],v=function(e){var t=e.component,n=Object(f.a)(e,g);return Object(j.jsx)(u.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return Object(m.getToken)()?Object(j.jsx)(u.a,{to:{pathname:"/premium-content"}}):Object(j.jsx)(t,Object(h.a)({},e))}}))},S=["component"],y=function(e){var t=e.component,n=Object(f.a)(e,S);return Object(j.jsx)(u.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return Object(m.getToken)()?Object(j.jsx)(t,Object(h.a)({},e)):Object(j.jsx)(u.a,{to:{pathname:"/login"}})}}))},k="https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/verify";var w=function(){var e=Object(s.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1];Object(s.useEffect)((function(){var e=Object(m.getToken)();if("undefined"!==e&&void 0!==e&&null!==e&&e){var t={user:Object(m.getUser)(),token:e};l.a.post(k,t,{headers:{"x-api-key":"mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx"}}).then((function(e){Object(m.setUserSession)(e.data.user,e.data.token),a(!1)})).catch((function(){Object(m.resetUserSession)(),a(!1)}))}}),[]);var c=Object(m.getToken)();return n&&c?Object(j.jsx)("div",{className:"content",children:"Authenicating..."}):Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(i.a,{children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(i.b,{exact:!0,activeClassName:"active",to:"/",children:"Home"}),Object(j.jsx)(i.b,{activeClassName:"active",to:"/register",children:"Register"}),Object(j.jsx)(i.b,{activeClassName:"active",to:"/login",children:"Login"}),Object(j.jsx)(i.b,{activeClassName:"active",to:"/premium-content",children:"Premium Content"})]}),Object(j.jsx)("div",{className:"content",children:Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{exact:!0,path:"/",component:b}),Object(j.jsx)(v,{path:"/register",component:p}),Object(j.jsx)(v,{path:"/login",component:x}),Object(j.jsx)(y,{path:"/premium-content",component:d})]})})]})})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.7d5b8f78.chunk.js.map
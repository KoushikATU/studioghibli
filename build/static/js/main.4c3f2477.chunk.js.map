{"version":3,"sources":["service/AuthService.js","Home.js","Register.js","Login.js","Admin.js","PremiumContent.js","course.js","routes/PublicRoute.js","routes/PrivateRoute.js","App.js","index.js"],"names":["module","exports","getUser","user","sessionStorage","getItem","JSON","parse","getToken","setUserSession","token","setItem","stringify","resetUserSession","removeItem","Home","_jsx","children","Register","_useState","useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","email","setEmail","_useState5","_useState6","username","setUsername","_useState7","_useState8","password","setPassword","_useState9","_useState10","message","setMessage","_jsxs","onSubmit","event","preventDefault","trim","requestBody","axios","post","headers","then","response","catch","error","status","data","type","value","onChange","target","className","Login","props","errorMessage","setErrorMessage","history","push","Admin","setData","useEffect","get","res","_res$data","console","log","err","length","map","item","index","PremiumContent","onClick","Course","id","PublicRoute","_ref","Component","component","rest","_objectWithoutProperties","_excluded","Route","_objectSpread","render","Redirect","to","pathname","PrivateRoute","verifyTokenAPIURL","App","isAuthenicating","setAuthenicating","undefined","BrowserRouter","NavLink","exact","activeClassName","Switch","path","ReactDOM","React","StrictMode","document","getElementById"],"mappings":"0GAAAA,EAAOC,QAAU,CACfC,QAAS,WACP,IAAMC,EAAOC,eAAeC,QAAQ,QACpC,MAAa,cAATF,GAAyBA,EAGpBG,KAAKC,MAAMJ,GAFX,IAIX,EAEAK,SAAU,WACR,OAAOJ,eAAeC,QAAQ,QAChC,EAEAI,eAAgB,SAASN,EAAMO,GAC7BN,eAAeO,QAAQ,OAAQL,KAAKM,UAAUT,IAC9CC,eAAeO,QAAQ,QAASD,EAClC,EAEAG,iBAAkB,WAChBT,eAAeU,WAAW,QAC1BV,eAAeU,WAAW,QAC5B,E,mHCZaC,EARF,WACX,OACEC,cAAA,OAAAC,SAAK,0BAIT,E,iBCkDeC,EArDE,WACf,IAAAC,EAAwBC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,EAA0BL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,EAAgCT,mBAAS,IAAGU,EAAAR,YAAAO,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,EAAgCb,mBAAS,IAAGc,EAAAZ,YAAAW,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,EAA8BjB,mBAAS,MAAKkB,EAAAhB,YAAAe,EAAA,GAArCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAiC1B,OACEG,eAAA,OAAAxB,SAAA,CACEwB,eAAA,QAAMC,SAjCY,SAACC,GAErB,GADAA,EAAMC,iBACkB,KAApBb,EAASc,QAAkC,KAAjBlB,EAAMkB,QAAiC,KAAhBtB,EAAKsB,QAAqC,KAApBV,EAASU,OAApF,CAIAL,EAAW,MAEX,IAAMM,EAAc,CAClBf,SAAUA,EACVJ,MAAOA,EACPJ,KAAMA,EACNY,SAAUA,GAQZY,IAAMC,KA7BU,uEA6BQF,EALF,CACpBG,QAAS,CACP,YAAa,8CAGkCC,MAAK,SAAAC,GACtDX,EAAW,2BACb,IAAGY,OAAM,SAAAC,GACuB,MAA1BA,EAAMF,SAASG,OACjBd,EAAWa,EAAMF,SAASI,KAAKhB,SAE/BC,EAAW,+DAEf,GAvBA,MAFEA,EAAW,0BA0Bf,EAIkCvB,SAAA,CAC5BD,cAAA,MAAAC,SAAI,aAAa,SACXD,cAAA,SAAOwC,KAAK,OAAOC,MAAOlC,EAAMmC,SAAU,SAAAf,GAAK,OAAInB,EAAQmB,EAAMgB,OAAOF,MAAM,IAAI,IAACzC,cAAA,SAAK,UACvFA,cAAA,SAAOwC,KAAK,OAAOC,MAAO9B,EAAO+B,SAAU,SAAAf,GAAK,OAAIf,EAASe,EAAMgB,OAAOF,MAAM,IAAI,IAACzC,cAAA,SAAK,aACvFA,cAAA,SAAOwC,KAAK,OAAOC,MAAO1B,EAAU2B,SAAU,SAAAf,GAAK,OAAIX,EAAYW,EAAMgB,OAAOF,MAAM,IAAI,IAACzC,cAAA,SAAK,aAChGA,cAAA,SAAOwC,KAAK,OAAOC,MAAOtB,EAAUuB,SAAU,SAAAf,GAAK,OAAIP,EAAYO,EAAMgB,OAAOF,MAAM,IAAI,IAACzC,cAAA,SACrGA,cAAA,SAAOwC,KAAK,SAASC,MAAM,gBAE5BlB,GAAWvB,cAAA,KAAG4C,UAAU,UAAS3C,SAAEsB,MAG1C,E,OCKesB,EAvDD,SAACC,GACb,IAAA3C,EAAgCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAArCY,EAAQV,EAAA,GAAEW,EAAWX,EAAA,GAC5BI,EAAgCL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAArCU,EAAQT,EAAA,GAAEU,EAAWV,EAAA,GAC5BG,EAAwCT,mBAAS,MAAKU,EAAAR,YAAAO,EAAA,GAA/CkC,EAAYjC,EAAA,GAAEkC,EAAelC,EAAA,GAuCpC,OACEW,eAAA,OAAAxB,SAAA,CACEwB,eAAA,QAAMC,SAvCY,SAACC,GAErB,GADAA,EAAMC,iBACkB,KAApBb,EAASc,QAAqC,KAApBV,EAASU,OAAvC,CAIAmB,EAAgB,MAEhB,IAAMlB,EAAc,CAClBf,SAAUA,EACVI,SAAUA,GASZY,IAAMC,KA1BU,oEA0BQF,EANF,CACpBG,QAAS,CACP,YAAa,8CAImCC,MAAK,SAACC,GACxD1C,yBAAe0C,EAASI,KAAKpD,KAAMgD,EAASI,KAAK7C,OACvB,YAAtByC,EAASI,KAAKpD,KAChB2D,EAAMG,QAAQC,KAAK,UAGnBJ,EAAMG,QAAQC,KAAK,UAGvB,IAAGd,OAAM,SAACC,GACsB,MAA1BA,EAAMF,SAASG,QAA4C,MAA1BD,EAAMF,SAASG,OAClDU,EAAgBX,EAAMF,SAASI,KAAKhB,SAEpCyB,EAAgB,kEAEpB,GA7BA,MAFEA,EAAgB,0CAgCpB,EAIkC/C,SAAA,CAC5BD,cAAA,MAAAC,SAAI,UAAU,aACJD,cAAA,SAAOwC,KAAK,OAAOC,MAAO1B,EAAU2B,SAAU,SAAAf,GAAK,OAAIX,EAAYW,EAAMgB,OAAOF,MAAM,IAAI,IAACzC,cAAA,SAAK,aAChGA,cAAA,SAAOwC,KAAK,WAAWC,MAAOtB,EAAUuB,SAAU,SAAAf,GAAK,OAAIP,EAAYO,EAAMgB,OAAOF,MAAM,IAAI,IAACzC,cAAA,SACzGA,cAAA,SAAQwC,KAAK,SAASC,MAAM,UAAU,IAACzC,cAAA,YAExC+C,GAAgB/C,cAAA,KAAG4C,UAAU,UAAS3C,SAAE8C,MAG/C,ECDeI,MAvDf,WACI,IAAAhD,EAAuBC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA5BoC,EAAIlC,EAAA,GAAE+C,EAAO/C,EAAA,GAYpB,OAXAgD,qBAAU,WACVtB,IAAMuB,IAAI,wEACLpB,MAAK,SAAAqB,GAAO,IAADC,EACRC,QAAQC,IAAIH,EAAIhB,MAChBa,EAAW,OAAHG,QAAG,IAAHA,GAAS,QAANC,EAAHD,EAAKhB,YAAI,IAAAiB,OAAN,EAAHA,EAAWjB,KACvB,IACCH,OAAM,SAAAuB,GACHF,QAAQC,IAAIC,EAChB,GACJ,GAAE,IAGElC,eAAA,OAAAxB,SAAA,CAAK,iBAEDwB,eAAA,SAAAxB,SAAA,CACIwB,eAAA,MAAAxB,SAAA,CACID,cAAA,MAAAC,SAAI,SACJD,cAAA,MAAAC,SAAI,aACJD,cAAA,MAAAC,SAAI,UACJD,cAAA,MAAAC,SAAI,WACJD,cAAA,MAAAC,SAAI,mBACJD,cAAA,MAAAC,SAAI,eAKhBsC,EAAKqB,OAAS,GACdrB,EAAKsB,KAAI,SAACC,EAAMC,GACd,OACEtC,eAAA,MAAAxB,SAAA,CACID,cAAA,MAAAC,SAAK6D,EAAKvD,OACVP,cAAA,MAAAC,SAAK6D,EAAK/C,WACVf,cAAA,MAAAC,SAAK6D,EAAKnD,QACVX,cAAA,MAAAC,SAAI,SACJD,cAAA,MAAAC,SAAI,SAEJwB,eAAA,MAAAxB,SAAA,CACID,cAAA,UAAAC,SAAQ,SAERD,cAAA,UAAAC,SAAQ,gBAMpB,SAMR,ECpBe+D,EA9BQ,SAAClB,GACtB,IAAM3D,EAAOD,oBACPqB,EAAgB,cAATpB,GAAwBA,EAAOA,EAAKoB,KAAO,GAkBxD,OACEkB,eAAA,OAAAxB,SAAA,CAAK,SACIM,EAAK,mEAAgEP,cAAA,SAG5EA,cAAA,SAAOwC,KAAK,SAASC,MAAM,SAASwB,QATlB,WACpBpE,6BACAiD,EAAMG,QAAQC,KAAK,QACrB,MASF,ECSegB,EAnCA,SAACpB,GACZ,IAAM3D,EAAOD,oBACPqB,EAAgB,cAATpB,GAAwBA,EAAOA,EAAKoB,KAAO,GAM1D,OACEP,cAAA,OAAAC,SACEwB,eAAA,QAAAxB,SAAA,CACED,cAAA,MAAAC,SAAI,qBAAqB,SAClBM,EAAK,wDAAqDP,cAAA,SAKjEA,cAAA,MAAAC,SAAI,mBACND,cAAA,UAAQmE,GAAG,SAAS5D,KAAK,SAAQN,SAC/BD,cAAA,UAAQyC,MAAM,0BAAyBxC,SAAC,8BACjC,IAACD,cAAA,SACVA,cAAA,SAAOwC,KAAK,SAASC,MAAM,mBAAmBwB,QAASD,IACvDhE,cAAA,MAAAC,SAAI,qCACJD,cAAA,YAAUmE,GAAG,WAAW5D,KAAK,aAAuB,IAACP,cAAA,SACrDA,cAAA,OAAAC,SACED,cAAA,SAAOwC,KAAK,SAASC,MAAM,WAI7BzC,cAAA,SAAOwC,KAAK,SAASC,MAAM,SAASwB,QA1BhB,WAClBpE,6BACAiD,EAAMG,QAAQC,KAAK,QAEvB,QA0BF,E,gCCzBakB,EAZK,SAAHC,GAA0C,IAAzBC,EAASD,EAApBE,UAAyBC,EAAIC,YAAAJ,EAAAK,GAClD,OACE1E,cAAC2E,IAAKC,wBAAA,GACAJ,GAAI,IACRK,OAAQ,SAAA/B,GACN,OAAQtD,qBACNQ,cAAC8E,IAAQ,CAACC,GAAI,CAAEC,SAAU,aADPhF,cAACsE,EAASM,YAAA,GAAK9B,GAEtC,IAGN,E,gBCEemC,EAZM,SAAHZ,GAA0C,IAAzBC,EAASD,EAApBE,UAAyBC,EAAIC,YAAAJ,EAAAK,GACnD,OACE1E,cAAC2E,IAAKC,wBAAA,GACAJ,GAAI,IACRK,OAAQ,SAAA/B,GACN,OAAOtD,qBAAaQ,cAACsE,EAASM,YAAA,GAAK9B,IACjC9C,cAAC8E,IAAQ,CAACC,GAAI,CAAEC,SAAU,WAC9B,IAGN,ECDME,EAAoB,qEA8DXC,MA5Df,WAEE,IAAAhF,EAA4CC,oBAAS,GAAKC,EAAAC,YAAAH,EAAA,GAAnDiF,EAAe/E,EAAA,GAAEgF,EAAgBhF,EAAA,GAExCgD,qBAAU,WACR,IAAM3D,EAAQF,qBACd,GAAc,cAAVE,QAAmC4F,IAAV5F,GAAiC,OAAVA,GAAmBA,EAAvE,CAIA,IAKMoC,EAAc,CAClB3C,KAAMD,oBACNQ,MAAOA,GAGTqC,IAAMC,KAAKkD,EAAmBpD,EAVR,CACpBG,QAAS,CACP,YAAa,8CAQyCC,MAAK,SAAAC,GAC7D1C,yBAAe0C,EAASI,KAAKpD,KAAMgD,EAASI,KAAK7C,OACjD2F,GAAiB,EACnB,IAAGjD,OAAM,WACPvC,6BACAwF,GAAiB,EACnB,GAlBA,CAmBF,GAAG,IAEH,IAAM3F,EAAQF,qBACd,OAAI4F,GAAmB1F,EACdM,cAAA,OAAK4C,UAAU,UAAS3C,SAAC,qBAIhCD,cAAA,OAAK4C,UAAU,MAAK3C,SAClBwB,eAAC8D,IAAa,CAAAtF,SAAA,CACdwB,eAAA,OAAKmB,UAAU,SAAQ3C,SAAA,CACrBD,cAACwF,IAAO,CAACC,OAAK,EAACC,gBAAgB,SAASX,GAAG,IAAG9E,SAAC,SAC/CD,cAACwF,IAAO,CAACE,gBAAgB,SAASX,GAAG,YAAW9E,SAAC,aACjDD,cAACwF,IAAO,CAACE,gBAAgB,SAASX,GAAG,SAAQ9E,SAAC,UAC9CD,cAACwF,IAAO,CAACE,gBAAgB,SAASX,GAAG,UAAS9E,SAAC,WAC/CD,cAACwF,IAAO,CAACE,gBAAgB,SAASX,GAAG,mBAAkB9E,SAAC,oBACxDD,cAACwF,IAAO,CAACE,gBAAgB,SAASX,GAAG,SAAQ9E,SAAC,aAEhDD,cAAA,OAAK4C,UAAU,UAAS3C,SACtBwB,eAACkE,IAAM,CAAA1F,SAAA,CACLD,cAAC2E,IAAK,CAACc,OAAK,EAACG,KAAK,IAAIrB,UAAWxE,IACjCC,cAACoE,EAAW,CAACwB,KAAK,YAAYrB,UAAWrE,IACzCF,cAACoE,EAAW,CAACwB,KAAK,SAASrB,UAAW1B,IACtC7C,cAACiF,EAAY,CAACW,KAAK,UAAUrB,UAAWL,IACxClE,cAACiF,EAAY,CAACW,KAAK,mBAAmBrB,UAAWP,IACjDhE,cAACiF,EAAY,CAACW,KAAK,SAASrB,UAAWpB,aAMjD,ECpEA0C,IAAShB,OACP7E,cAAC8F,IAAMC,WAAU,CAAA9F,SACfD,cAACmF,EAAG,MAENa,SAASC,eAAe,Q","file":"static/js/main.4c3f2477.chunk.js","sourcesContent":["module.exports = {\r\n  getUser: function() {\r\n    const user = sessionStorage.getItem('user');\r\n    if (user === 'undefined' || !user) {\r\n      return null;\r\n    } else {\r\n      return JSON.parse(user);\r\n    }\r\n  },\r\n\r\n  getToken: function() {\r\n    return sessionStorage.getItem('token');\r\n  },\r\n\r\n  setUserSession: function(user, token) {\r\n    sessionStorage.setItem('user', JSON.stringify(user));\r\n    sessionStorage.setItem('token', token);\r\n  },\r\n\r\n  resetUserSession: function() {\r\n    sessionStorage.removeItem('user');\r\n    sessionStorage.removeItem('token');\r\n  }\r\n}","import React from 'react';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div>\r\n      This is the home page!\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst registerUrl = 'https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/register';\r\n\r\nconst Register = () => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (username.trim() === '' || email.trim() === '' || name.trim() === '' || password.trim() === '') {\r\n      setMessage('All fields are required');\r\n      return;\r\n    }\r\n    setMessage(null);\r\n    \r\n    const requestBody = {\r\n      username: username,\r\n      email: email,\r\n      name: name,\r\n      password: password\r\n    }\r\n\r\n    const requestConfig = {\r\n      headers: {\r\n        'x-api-key': 'mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx'\r\n      }\r\n    }\r\n    axios.post(registerUrl, requestBody,requestConfig).then(response => {\r\n      setMessage('Registeration Successful');\r\n    }).catch(error => {\r\n      if (error.response.status === 401) {\r\n        setMessage(error.response.data.message);\r\n      } else {\r\n        setMessage('sorry....the backend server is down!! please try again later');\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={submitHandler}>\r\n        <h5>Register</h5>\r\n        Name: <input type=\"text\" value={name} onChange={event => setName(event.target.value)} /> <br/>\r\n        Email: <input type=\"text\" value={email} onChange={event => setEmail(event.target.value)} /> <br/>\r\n        Username: <input type=\"text\" value={username} onChange={event => setUsername(event.target.value)} /> <br/>\r\n        Password: <input type=\"text\" value={password} onChange={event => setPassword(event.target.value)} /> <br/>\r\n        <input type=\"submit\" value=\"Register\" />\r\n      </form>\r\n      {message && <p className=\"message\">{message}</p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { setUserSession } from './service/AuthService'\r\nconst loginAPIUrl = 'https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/login';\r\n\r\nconst Login = (props) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (username.trim() === '' || password.trim() === '') {\r\n      setErrorMessage('Both username and password are required');\r\n      return;\r\n    }\r\n    setErrorMessage(null);\r\n   \r\n    const requestBody = {\r\n      username: username,\r\n      password: password\r\n    }\r\n\r\n    const requestConfig = {\r\n      headers: {\r\n        'x-api-key': 'mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx'\r\n      }\r\n    }\r\n\r\n    axios.post(loginAPIUrl, requestBody, requestConfig).then((response) => {\r\n      setUserSession(response.data.user, response.data.token);\r\n      if (response.data.user ===\"darshan\"){\r\n        props.history.push('/Admin');\r\n      }\r\n      else{\r\n        props.history.push('/course');\r\n      }\r\n      \r\n    }).catch((error) => {\r\n      if (error.response.status === 401 || error.response.status === 403) {\r\n        setErrorMessage(error.response.data.message);\r\n      } else {\r\n        setErrorMessage('sorry....the backend server is down. please try again later!!po');\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={submitHandler}>\r\n        <h5>Login</h5>\r\n        Username: <input type=\"text\" value={username} onChange={event => setUsername(event.target.value)} /> <br/>\r\n        Password: <input type=\"password\" value={password} onChange={event => setPassword(event.target.value)} /> <br/>\r\n        <input  type=\"submit\" value=\"Login\" /> <br/>\r\n      </form>\r\n      {errorMessage && <p className=\"message\">{errorMessage}</p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import axios from 'axios'\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction Admin() {\r\n    const [data, setData]= useState([])\r\n    useEffect(()=>{\r\n    axios.get('https://jei9r6lp78.execute-api.us-east-1.amazonaws.com/prod/products')\r\n        .then(res =>{\r\n            console.log(res.data)\r\n            setData(res?.data?.data)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    },[])\r\n\r\n    return (\r\n        <div>\r\n            Table of Data:\r\n            <table>\r\n                <tr>\r\n                    <th>name</th>\r\n                    <th>Username</th>\r\n                    <th>Email</th>\r\n                    <th>Course</th>\r\n                    <th>Extra Requests</th>\r\n                    <th>Actions</th>\r\n                   \r\n                    \r\n                </tr>\r\n        {\r\n        data.length > 0 &&\r\n        data.map((item, index)=>{\r\n          return (\r\n            <tr>\r\n                <td>{item.name}</td>\r\n                <td>{item.username}</td>\r\n                <td>{item.email}</td>\r\n                <td>none</td>\r\n                <td>none</td>\r\n                \r\n                <td>\r\n                    <button>Edit</button>\r\n\r\n                    <button>Delete</button>\r\n                </td>\r\n                \r\n            </tr>\r\n            \r\n          )\r\n        })\r\n      }\r\n        </table>\r\n       \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Admin;","import React from 'react';\r\nimport { getUser, resetUserSession } from './service/AuthService';\r\n// import axios from 'axios'\r\n// import { useEffect, useState } from 'react';\r\n\r\n\r\nconst PremiumContent = (props) => {\r\n  const user = getUser();\r\n  const name = user !== 'undefined' && user ? user.name : '';\r\n  // const [data, setData] = useState([])\r\n  // useEffect(()=>{\r\n  //   axios.get('https://jei9r6lp78.execute-api.us-east-1.amazonaws.com/prod/products')\r\n  //           .then(res =>{\r\n  //             console.log(res.data)\r\n  //             setData(res?.data?.data)\r\n  //           })\r\n  //          // .catch(err => {\r\n  //          //   alert('Something went wrong.')\r\n  //          // })\r\n  // },[])\r\n  \r\n\r\n  const logoutHandler = () => {\r\n    resetUserSession();\r\n    props.history.push('login');\r\n  }\r\n  return (\r\n    <div>\r\n      Hello {name}! You have been loggined in!!!! Welcome to the premium content. <br />\r\n      \r\n      \r\n      <input type=\"button\" value=\"Logout\" onClick={logoutHandler} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PremiumContent;","import React from 'react';\r\nimport PremiumContent from './PremiumContent';\r\nimport { getUser, resetUserSession } from './service/AuthService';\r\n// import axios from 'axios'\r\n\r\n  \r\n\r\n\r\nconst Course = (props) =>{\r\n    const user = getUser();\r\n    const name = user !== 'undefined' && user ? user.name : ''; \r\n    const logoutHandler = () => {\r\n        resetUserSession();\r\n        props.history.push('login');\r\n      \r\n    } \r\n  return (\r\n    <div>\r\n      <form>\r\n        <h5>Course Selection</h5>\r\n        Hello {name}! You have been loggined in!!!! Choose the course !!!<br />\r\n        \r\n\r\n\r\n\r\n        <h5>Select Course:</h5>\r\n      <select id=\"course\" name=\"course\">\r\n        <option value=\"Moving Castle Creations\">Moving Castle Creations</option>\r\n      </select> <br/>\r\n      <input type=\"button\" value=\"Go to the course\" onClick={PremiumContent}/> \r\n      <h5>Extra Requests for server admin:</h5>\r\n      <textarea id=\"requests\" name=\"requests\" ></textarea> <br/>\r\n      <div>\r\n        <input type=\"submit\" value=\"Send\" />\r\n      </div>  \r\n\r\n\r\n      <input type=\"button\" value=\"Logout\" onClick={logoutHandler} />\r\n      </form>\r\n    </div>\r\n  )\r\n  }\r\n\r\nexport default Course;","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { getToken } from '../service/AuthService';\r\n\r\nconst PublicRoute = ({ component: Component, ...rest}) => {\r\n  return (\r\n    <Route \r\n      {...rest}\r\n      render={props => {\r\n        return !getToken() ? <Component {...props} />\r\n        : <Redirect to={{ pathname: '/course'}} />\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PublicRoute","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { getToken } from '../service/AuthService';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest}) => {\r\n  return (\r\n    <Route \r\n      {...rest}\r\n      render={props => {\r\n        return getToken() ? <Component {...props} />\r\n        : <Redirect to={{ pathname: '/login'}} />\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute","import { BrowserRouter, NavLink, Route, Switch} from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport Admin from \"./Admin\";\r\nimport Course from \"./course\";\r\nimport PremiumContent from \"./PremiumContent\";\r\nimport PublicRoute from \"./routes/PublicRoute\";\r\nimport PrivateRoute from \"./routes/PrivateRoute\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { getUser, getToken, setUserSession, resetUserSession } from \"./service/AuthService\";\r\nimport axios from \"axios\";\r\n\r\nconst verifyTokenAPIURL = 'https://lxfsrxntnf.execute-api.us-east-1.amazonaws.com/prod/verify';\r\n\r\nfunction App() {\r\n\r\n  const [isAuthenicating, setAuthenicating] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const token = getToken();\r\n    if (token === 'undefined' || token === undefined || token === null || !token) {\r\n      return;\r\n    }\r\n\r\n    const requestConfig = {\r\n      headers: {\r\n        'x-api-key': 'mzW9uosG9F1ZZ3uXEo9Vn5Yxxc9tTTo08UwzVecx'\r\n      }\r\n    }\r\n    const requestBody = {\r\n      user: getUser(),\r\n      token: token\r\n    }\r\n\r\n    axios.post(verifyTokenAPIURL, requestBody, requestConfig).then(response => {\r\n      setUserSession(response.data.user, response.data.token);\r\n      setAuthenicating(false);\r\n    }).catch(() => {\r\n      resetUserSession();\r\n      setAuthenicating(false);\r\n    })\r\n  }, []);\r\n\r\n  const token = getToken();\r\n  if (isAuthenicating && token) {\r\n    return <div className=\"content\">Authenicating...</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n      <div className=\"header\">\r\n        <NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/register\">Register</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/login\">Login</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/course\">Course</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/premium-content\">Premium Content</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/Admin\">Admin</NavLink> \r\n      </div>\r\n      <div className=\"content\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home}/>\r\n          <PublicRoute path=\"/register\" component={Register}/>\r\n          <PublicRoute path=\"/login\" component={Login}/>\r\n          <PrivateRoute path=\"/course\" component={Course}/> \r\n          <PrivateRoute path=\"/premium-content\" component={PremiumContent}/>\r\n          <PrivateRoute path=\"/Admin\" component={Admin}/>\r\n        </Switch>\r\n      </div>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}